@model IEnumerable<TestFinal.Models.GlavnaTabela>

@{
    ViewBag.Title = "Index";
}

<h2 style="text-align:center"> <b>Preduzeća </b></h2>


<table class="table table-hover table-responsive table-striped table-bordered">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.NazivPreduzeca) 
        </th>
        <th>
            @Html.DisplayNameFor(model => model.AdresaRegistracijePreduzeca)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Opstina)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.MaticniBrojPreduzeca)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PIB)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BrRacuna)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.WebStranica)
        </th>
        <th>Zaposleni</th>
        <th>
            @Html.DisplayNameFor(model => model.Fotografija)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Beleska)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            <b>  @Html.DisplayFor(modelItem => item.NazivPreduzeca)</b>
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.AdresaRegistracijePreduzeca)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Opstina)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.MaticniBrojPreduzeca)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PIB)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.BrRacuna)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.WebStranica)
        </td>


        <td>

            @Html.ActionLink("Otvori Listu", "Index","Kontakt", new { id = item.IDPreduzeca }, null)

        </td>



        <td>
            @{ 
                if (item.Fotografija != null)
                {
                    var base64 = Convert.ToBase64String(item.Fotografija);
                    var imgSrc = string.Format("data: image/gif; base64, {0}", base64);
                     <img src='@imgSrc' style="max-width:80px; max-height:80px"/>
                }

               

            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Beleska)
        </td>
        <td>
            
            @Html.ActionLink("Detalji", "Details", new { id=item.IDPreduzeca })
       
        </td>
    </tr>
}

</table>



    
